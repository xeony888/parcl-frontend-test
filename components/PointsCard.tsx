
type PointsCardProps = {
    title: string;
    text: string;
    points: number;
    color: string;
    highlight: string;
};

export default function PointsCard({ title, text, points, color, highlight }: PointsCardProps) {
    const highlightColor = `text-${highlight}-500`;

    return (
        <div className="flex flex-col justify-center items-start gap-2 rounded-lg border border-gray-800 p-4 w-full">
            {color === "yellow" ?
                <svg width="24" height="21" viewBox="0 0 24 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.5078 3.35156C11.8828 3.9375 11.5312 4.67969 11.2188 5.34375C11.0625 5.69531 10.9453 6.04688 10.7891 6.32031L10.75 6.47656C10.3984 7.33594 10.0469 8.19531 9.22656 9.01562C8.17188 10.0312 7 10.6953 6.02344 11.1641C5.94531 11.2422 5.82812 11.2812 5.71094 11.3203C4.85156 11.7891 4.1875 12.1016 3.5625 12.6094C2.97656 13.0781 2.625 13.7031 2.625 14.5625V18.625H10.125C12.8594 18.625 15.5938 17.6094 17.7031 16.0469C19.7344 14.5234 21.375 12.3359 21.375 9.875C21.375 8 20.6328 6.16406 19.5391 4.79688C18.4453 3.46875 16.8828 2.375 15.125 2.375C14.0312 2.375 13.1719 2.72656 12.5078 3.35156ZM10.125 20.5H2.625H0.75V18.625V14.5625C0.75 13.0781 1.41406 11.9062 2.39062 11.125C3.17188 10.5391 3.99219 10.1094 4.85156 9.67969C5.94531 9.13281 7 8.58594 7.89844 7.6875C8.44531 7.14062 8.67969 6.59375 9.07031 5.61719C9.1875 5.30469 9.34375 4.95312 9.5 4.5625C9.8125 3.89844 10.3203 2.84375 11.2188 1.98438C12.2734 1.00781 13.6016 0.5 15.125 0.5C17.6641 0.5 19.6953 2.02344 20.9844 3.625C22.3125 5.30469 23.25 7.53125 23.25 9.875C23.25 13.1562 21.0625 15.8516 18.7969 17.5703C16.4531 19.3281 13.2891 20.5 10.125 20.5ZM12.6641 6.75C12.7812 6.51562 12.8594 6.28125 12.9375 6.08594C13.2109 5.46094 13.4844 5.03125 13.7969 4.71875C14.0703 4.44531 14.4609 4.28906 15.125 4.28906C16.1016 4.28906 17.1953 4.91406 18.0547 6.00781C18.9141 7.0625 19.5 8.50781 19.5 9.91406C19.5 11.4766 18.3672 13.1953 16.5703 14.5625C14.7734 15.8906 12.3906 16.75 10.125 16.75H4.5V14.5625C4.5 14.2109 4.57812 14.0547 4.73438 13.9375C4.96875 13.7422 5.32031 13.5469 5.94531 13.3125H5.98438C7.11719 12.8047 8.75781 12.1406 10.5547 10.3438C11.6484 9.21094 12.2344 7.84375 12.6641 6.75ZM17 9.25C17 8.58594 16.4141 8 15.75 8C15.0469 8 14.5 8.58594 14.5 9.25C14.5 9.95312 15.0469 10.5 15.75 10.5C16.4141 10.5 17 9.95312 17 9.25Z" fill="#FAE24C" />
                </svg>
                :
                <svg width="24" height="21" viewBox="0 0 24 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.1748 3.35156C11.5498 3.9375 11.1982 4.67969 10.8857 5.34375C10.7295 5.69531 10.6123 6.04688 10.4561 6.32031L10.417 6.47656C10.0654 7.33594 9.71387 8.19531 8.89355 9.01562C7.83887 10.0312 6.66699 10.6953 5.69043 11.1641C5.6123 11.2422 5.49512 11.2812 5.37793 11.3203C4.51855 11.7891 3.85449 12.1016 3.22949 12.6094C2.64355 13.0781 2.29199 13.7031 2.29199 14.5625V18.625H9.79199C12.5264 18.625 15.2607 17.6094 17.3701 16.0469C19.4014 14.5234 21.042 12.3359 21.042 9.875C21.042 8 20.2998 6.16406 19.2061 4.79688C18.1123 3.46875 16.5498 2.375 14.792 2.375C13.6982 2.375 12.8389 2.72656 12.1748 3.35156ZM9.79199 20.5H2.29199H0.416992V18.625V14.5625C0.416992 13.0781 1.08105 11.9062 2.05762 11.125C2.83887 10.5391 3.65918 10.1094 4.51855 9.67969C5.6123 9.13281 6.66699 8.58594 7.56543 7.6875C8.1123 7.14062 8.34668 6.59375 8.7373 5.61719C8.85449 5.30469 9.01074 4.95312 9.16699 4.5625C9.47949 3.89844 9.9873 2.84375 10.8857 1.98438C11.9404 1.00781 13.2686 0.5 14.792 0.5C17.3311 0.5 19.3623 2.02344 20.6514 3.625C21.9795 5.30469 22.917 7.53125 22.917 9.875C22.917 13.1562 20.7295 15.8516 18.4639 17.5703C16.1201 19.3281 12.9561 20.5 9.79199 20.5ZM12.3311 6.75C12.4482 6.51562 12.5264 6.28125 12.6045 6.08594C12.8779 5.46094 13.1514 5.03125 13.4639 4.71875C13.7373 4.44531 14.1279 4.28906 14.792 4.28906C15.7686 4.28906 16.8623 4.91406 17.7217 6.00781C18.5811 7.0625 19.167 8.50781 19.167 9.91406C19.167 11.4766 18.0342 13.1953 16.2373 14.5625C14.4404 15.8906 12.0576 16.75 9.79199 16.75H4.16699V14.5625C4.16699 14.2109 4.24512 14.0547 4.40137 13.9375C4.63574 13.7422 4.9873 13.5469 5.6123 13.3125H5.65137C6.78418 12.8047 8.4248 12.1406 10.2217 10.3438C11.3154 9.21094 11.9014 7.84375 12.3311 6.75ZM16.667 9.25C16.667 8.58594 16.0811 8 15.417 8C14.7139 8 14.167 8.58594 14.167 9.25C14.167 9.95312 14.7139 10.5 15.417 10.5C16.0811 10.5 16.667 9.95312 16.667 9.25Z" fill="#FF886D" />
                </svg>
            }

            <p className="text-white">{title}</p>
            <p dangerouslySetInnerHTML={{ __html: replaceTextWithSpan(text, highlightColor) }}></p>
            <div className="mt-2"></div>
            <div className="flex flex-row justify-between items-center w-full">
                <div className="flex flex-row justify-center items-center gap-2">
                    <p className="text-white">{`+${points}pts`}</p>
                    <p className="">/</p>
                    <p className="">dollar</p>
                </div>
                <p className="italic">per day</p>
            </div>
        </div>
    );
}

function replaceTextWithSpan(text: string, color: string) {
    return text.replace(/\*(.*?)\*/g, `<span className="${color}">$1</span>`);
}